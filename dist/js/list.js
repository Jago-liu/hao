"use strict";!function(){var r=1,a=5,e="";function s(){$.ajax({type:"get",url:"../api/page.php",data:{page:r,num:a,order:e},success:function(a){console.log(a);var e=JSON.parse(a);!function(a){var e=a.data.map(function(a){return"<li data="+a.id+'>\n            <div class="pic">\n                <a href="###">\n                    <img src="'+a.url+'" alt="">\n                </a>\n            </div>\n            <p class="p1"><a href="###">'+a.title+'</a></p>\n            <p class="p2">售价￥<span>'+a.price+"</span></p>\n            </li>"}).join("");$("#goods").html(e);for(var n=Math.ceil(a.total/a.num),t="",c=1;c<=n;c++)t+='<li href="###">'+c+"</li>";$("#list2").html(t),$("#pagenum").html(n);var i=document.querySelector("#list2");i.children[a.page-1].className="active",i.onclick=function(a){"li"==a.target.tagName.toLowerCase()&&(r=a.target.innerHTML,s())};var o=document.querySelector("#prev");o.onclick=function(){r--,console.log(1),s()};var l=document.querySelector("#next");l.onclick=function(){r++,console.log(r),s()},o.className=r<2?"prev active1":"prev";l.className=n<=r?"next active2":"next";$("#queren").click(function(){var a=$("#inputval").val();r=a,s()})}(e),console.log(e)}})}s();var n=!0;$("#jiage").click(function(){e=n?(n=!1,"asc"):(n=!0,"desc"),console.log(n),s()}),$("#goods").on("click","img",function(a){$(this).parent().is("a")&&window.open("detail.html?"+$(this).parent().parent().parent().attr("data"))})}();