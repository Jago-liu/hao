"use strict";!function(){var c=function(n){return/^1[3-9]\d{9}$/.test(n)},o=!1;$("#yanzhengma").blur(function(){verifyCode.validate($("#yanzhengma").val())?($("#input1 p").css("display","block"),o=!0):$("#input1 p").css({display:"block",color:"#a10000"}).html("验证码错误")}),$("#yanzhengma").focus(function(){$(this).val(""),$("#input1 p").css({display:"none"})}),$("#input2-1").blur(function(){var n=$("#input2-1").val();c(n)||$("#input2 p").css("display","block").html("请输入正确的手机号码")}),$("#input2-1").focus(function(){$("#input2 p").css({display:"block",color:"#ccc"}).html("请填写真实的手机号码，并进行验证")}),$("#input2-2").click(function(){if(o){var c=$("#input2-1").val(),n="SELECT * FROM userlist WHERE phone="+c;$.ajax({type:"post",url:"../api/boolean.php",data:{sql:n},success:function(n){"yes"==n?(console.log(1),$.ajax({type:"post",url:"../api/mesg.php",data:{phone:c},success:function(n){if(console.log(n),n){$("#input2 p").css("color","#58bc58").html("短信已发送，请留意手机短信，谢谢");var c=JSON.parse(n);console.log(c);var l=c.phonecode;console.log(l),function(c){$("#input3-1").blur(function(){var n=$("#input3-1").val();c==n?(t=!0,$("#input3 p").css({display:"block",color:"#58bc58"}).html("验证码通过")):$("#input3 p").css({display:"block",color:"#a10000"}).html("验证码错误，请重新输入")})}(l)}}})):"no"==n&&$("#input2 p").css({display:"block",color:"#a10000"}).html("该手机号码已注册")}})}else $("#input2 p").css({display:"block",color:"#a10000"}).html("请输入图片上的验证码，再获取短信验证码")});var t=!1;$("#input4-1").blur(function(){var n=$("#input4-1").val(),c=$("#input4-1").val().length;if(console.log(c),-1<$("#input4-1").val().indexOf(" ")&&$("#input4 p").css({display:"block",color:"#a10000"}).html("密码中不能包含空格"),c<6&&$("#input4 p").css({display:"block",color:"#a10000"}).html("密码必须大于6位，请重新输入"),17<c){var l=n.substring(0,16);$("#input4-1").val(l)}}),$("#input4-1").focus(function(){$("#input4 p").css({display:"block",color:"#ccc"}).html("6-16位字符，可使用字母、数字或符号的组合")});var i=!1;$("#input5-1").focus(function(){$("#input5 p").css({display:"block",color:"#ccc"}).html("请再次输入登录密码，两次输入必须一致")}),$("#input5-1").blur(function(){$("#input4-1").val()!=$("#input5-1").val()?$("#input5 p").css({display:"block",color:"#a10000"}).html("两次输入密码不一致，请重新输入"):i=!0});var p=!1;$("#input6-1").click(function(){p=$("#input6-1").is(":checked")?($("#inputreg").css("background","#b52024"),!0):($("#inputreg").css("background","#9a9a9a"),!1)}),$("#inputreg").click(function(){var c=$("#input2-1").val(),n=$("#input4-1").val();if(o&&t&&i&&p){var l="INSERT INTO userlist(phone,password) VALUES("+c+","+n+")";$.ajax({type:"post",url:"../api/other.php",data:{sql:l,phone:c,password:n},success:function(n){n?(alert("注册成功"),setCookie("userphone",c,7),location.href="../index.html"):alert("注册失败，请重新尝试")}})}})}();